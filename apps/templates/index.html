{% extends 'shared/base.html' %}
{% load static %}
{% block content %}

<div class="titulo">
    <h4>MINHA CARTEIRA - VISÃO GERAL</h4>
    {% include 'partials/_alertas.html' %}
</div>
<div class="pagina">
    {% include 'shared/consolidar_carteira.html' %}
    <div class="container">
        <div class="box">
            <h2>Rendas totais</h2>
            <p>Total: R$ {{ context_renda_gasto.renda_total|floatformat:2 }}</p>
            <p>Saldo: <span class="{% if context_renda_gasto.saldo_total >= 0 %}positive{% else %}negative{% endif %}">
                R$ {{ context_renda_gasto.saldo_total|floatformat:2 }}
                </span>
            </p>
        </div>
        <div class="box">
            <h2>Gastos totais</h2>
            <p>Total: R$ {{ context_renda_gasto.gasto_total|floatformat:2 }}</p>
        </div>
    </div>
    
    <div class="graficos-container-index">
        <div class="grafico-index">
            <canvas id="grafico-renda"></canvas>
        </div>
        <div class="grafico-index" style="margin-right: 150px;">
            <canvas id="grafico-gasto"></canvas>
        </div>
    </div>

    <div class="container">
        <div class="box">
            <h2>Renda Fixa</h2>
            <p>Capital aplicado: R$ {{ context_investimentos.investido_rendasfixa|floatformat:2 }}</p>
            <p>Dividendos: R$ {{ context_investimentos.dividendo_rendasfixa|floatformat:2 }}</p>
            <p>Total acumulado: <span class="{% if context_investimentos.total_rendasfixa >= 0 %}positive{% else %}negative{% endif %}">
                R$ {{ context_investimentos.total_rendasfixa|floatformat:2 }}
                </span>
            </p>
        </div>
        <div class="box">
            <h2>Ações</h2>
            <p>Capital aplicado: R$ {{ context_investimentos.investido_acoes|floatformat:2 }}</p>
            <p>Dividendos: R$ {{ context_investimentos.dividendo_acoes|floatformat:2 }}</p>
            <p>Total acumulado: <span class="{% if context_investimentos.total_acoes >= 0 %}positive{% else %}negative{% endif %}">
                R$ {{ context_investimentos.total_acoes|floatformat:2 }}
                </span>
            </p>
        </div>
    </div>
    <div class="container">
        <div class="box">
            <h2>Fundos Imobiliários</h2>
            <p>Capital aplicado: R$ {{ context_investimentos.investido_fiis|floatformat:2 }}</p>
            <p>Dividendos: R$ {{ context_investimentos.dividendo_fiis|floatformat:2 }}</p>
            <p>Total acumulado: <span class="{% if context_investimentos.total_fiis >= 0 %}positive{% else %}negative{% endif %}">
                R$ {{ context_investimentos.total_fiis|floatformat:2 }}
                </span>
            </p>
        </div>
        <div class="box">
            <h2>BDRs</h2>
            <p>Capital aplicado: R$ {{ context_investimentos.investido_bdrs|floatformat:2 }}</p>
            <p>Dividendos: R$ {{ context_investimentos.dividendo_bdrs|floatformat:2 }}</p>
            <p>Total acumulado: <span class="{% if context_investimentos.total_bdrs >= 0 %}positive{% else %}negative{% endif %}">
                R$ {{ context_investimentos.total_bdrs|floatformat:2 }}
                </span>
            </p>
        </div>
    </div>
    <div class="container">
        <div class="box">
            <h2>Cripto Moedas</h2>
            <p>Capital aplicado: R$ {{ context_investimentos.investido_criptos|floatformat:2 }}</p>
            <p>Stacking: R$ {{ context_investimentos.dividendo_criptos|floatformat:2 }}</p>
            <p>Total acumulado: <span class="{% if context_investimentos.total_criptos >= 0 %}positive{% else %}negative{% endif %}">
                R$ {{ context_investimentos.total_criptos|floatformat:2 }}
                </span>
            </p>
        </div>
    </div>

    {% include 'shared/script_grafico_index.html' %}

</div>
{% include 'shared/footer.html' %}
<script src="{% static 'styles/modal_button.js' %}"></script>

{% endblock %}